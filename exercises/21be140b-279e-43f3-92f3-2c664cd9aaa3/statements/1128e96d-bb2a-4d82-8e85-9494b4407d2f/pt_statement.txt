<p>A ação de atualizar registros por meio da instrução <code><em>UPDATE</em></code> também pode ser usada com consultas para realizar modificações de dados mais complexas. As consultas podem fazer parte de qualquer um dos elementos da instrução <code><em>UPDATE</em></code>.</p><p><img alt="" src="https://ikastaroak . birt.eus/edu/argitalpen/backupa/20200331/1920k/es/DAMDAW/BD/BD06/es_DAMDAW_BD06_Contenidos/BD06_CONT_R32_UPDATE_SELECT_miniatura.png" /></p><h3>Exemplo</h3><p>Departamento 50 é o único com o menor salário médio. Vamos aumentá-lo aumentando o salário dos funcionários que estão abaixo da média de seus colegas de departamento. O novo salário desses funcionários será aquele correspondente ao salário médio do departamento 30, que é o segundo departamento com o menor salário médio.</p><blockquote><pre><code>BEGIN;<br />SELECT * DE funcionários WHERE DEPARTMENT_ID = 50 ORDER PELO LAST_NAME FETCH PRÓXIMAS 5 LINHAS SOMENTE;<br /><br />ATUALIZAR funcionários<br />SET SALARY = ( -- Salário médio dos funcionários no departamento 30<br /><strong > SELECT AVG(SALARY)<br /> FROM employees<br /> WHERE DEPARTMENT_ID = 30</strong><br />)<br />WHERE DEPARTMENT_ID = 50 AND SALARY < (<br /> -- Salários médios dos funcionários no departamento 50<br /><strong> SELECT AVG(SALARY)<br /> FROM employees<br /> WHERE DEPARTMENT_ID = 50</strong><br />);<br />-- UPDATE 32< br / ><br />SELECT * FROM employees WHERE DEPARTMENT_ID = 50 ORDER BY LAST_NAME FETCH PRÓXIMAS 5 LINHAS SOMENTE;<br />ROLLBACK;</code></pre></blockquote><h3>Exercício</h3> <p >O departamento cujo nome é <code>'IT'</code> deve ser movido para o único endereço íon que aparece na <code>China</code></p>