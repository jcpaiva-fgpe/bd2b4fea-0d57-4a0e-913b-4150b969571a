<p>We can also use subqueries to get the value to be inserted in one or more of the attributes.</p><h3>Example</h3><p>We want to insert a new department with the following characteristics:< /p><ul><li><code><strong>DEPARTMENT_ID</strong></code>: 300</li><li><code><strong>DEPARTMENT_NAME</strong>: 'JudgeLTI'</ code></li><li><code><strong>MANAGER_ID</strong></code>: The one that appears as manager of the department whose name is <code>'IT'</code></li>< li><code><strong>LOCATION_ID</strong></code>: The only address that appears in the city of <code>'Oxford'</code></li></ul><p>We would solve it with the following statement:</p><blockquote><pre><code>BEGIN;<br /><br />INSERT INTO departments<br />VALUES (<br /> 300, -- DEPARTMENT_ID<br /> 'JudgeLTI', -- DEPARTMENT_NAME<br /> <strong>(SELECT MANAGER_ID FROM departments WHERE DEPARTMENT_NAME = 'IT')</strong>, -- MANAGER_ID<br /> <strong>(SELECT LOCATION_ID FROM locations WHERE CITY = ' Oxford')</strong> -- LOC ATION_ID<br />);<br />-- INSERT 0 1<br /><br />SELECT * FROM departments WHERE DEPARTMENT_ID = 300;<br />ROLLBACK;<br /> department_id | department_name | manager_id | location_id <br />---------------+-----------------+----------- --+-------------<br /> 300 | JudgeLTI | 103 | 2500<br />(1 row)</code></pre></blockquote><p>Keep in mind that these subqueries require returning unique values, since we can only assign one value to each attribute of a row .</p><p>For example, if instead of the city of <code>'Oxford'</code>, we had chosen the country whose code is <code>'UK'</code>, the statement would have returned the following error:</p><blockquote><pre><code>BEGIN;<br /><br />INSERT INTO departments<br />VALUES (<br /> 300, -- DEPARTMENT_ID<br /> 'JudgeLTI', -- DEPARTMENT_NAME<br /> (SELECT MANAGER_ID FROM departments WHERE DEPARTMENT_NAME = 'IT'), -- MANAGER_ID<br /> <strong>(SELECT LOCATION_ID FROM locations WHERE COUNTRY_ID = 'UK')</strong> -- LOCATION_ID<br />);<br />-- ERROR: more than one row returned by a subquery used as an expression<br /><br />ROLLBACK;</code></pre></blockquote ><h3>Exercise</h3><p>Imagine that you have just been hired by the company. In addition to your name, surnames, email (without telephone), the details of your hiring are the following:</p><ul><li><code><strong>EMPLOYEE_ID</strong></code>: 220< /li><li><code><strong>HIRE_DATE</strong></code>: CURRENT_DATE</li><li><code><strong>JOB_ID</strong></code>: IT_PROG</li ><li><code><strong>SALARY</strong></code>: You start with the minimum salary that is allowed for the job <code>'IT_PROG'</code></li><li> <code><strong>DEPARTMENT_ID</strong></code>: The identifier of the department whose name is <code>'IT'</code></li><li><code><strong>COMMISSION_PCT</ strong></code>: To compensate and encourage, you are assigned the maximum commission among those assigned to any employee.</li><li><code><strong>MANAGER_ID</strong></code>: The manager of the department assigned to you.</li></ul>