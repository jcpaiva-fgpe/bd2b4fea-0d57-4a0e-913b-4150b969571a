<p>Vi kan också använda underfrågor för att få värdet som ska infogas i ett eller flera av attributen.</p><h3>Exempel</h3><p>Vi vill infoga en ny avdelning med följande egenskaper: < /p><ul><li><code><strong>DEPARTMENT_ID</strong></code>: 300</li><li><code><strong>DEPARTMENT_NAME</strong>: 'JudgeLTI'< /code></li><li><code><strong>MANAGER_ID</strong></code>: Den som visas som chef för avdelningen vars namn är <code>'IT'</code></ li>< li><code><strong>LOCATION_ID</strong></code>: Den enda adressen som visas i staden <code>'Oxford'</code></li></ul><p >Vi skulle lösa det med följande påstående:</p><blockquote><pre><code>BEGIN;<br /><br />INSERT INTO avdelningar<br />VÄRDEN (<br /> 300, -- DEPARTMENT_ID<br /> 'JudgeLTI', -- DEPARTMENT_NAME<br /> <strong>(VÄLJ MANAGER_ID FRÅN avdelningar WHERE DEPARTMENT_NAME = 'IT')</strong>, -- MANAGER_ID<br /> <strong>(VÄLJ LOCATION_ID FRÅN platser WHERE CITY = 'Oxford')</strong> -- LOC ATION_ID<br />);<br />-- INSERT 0 1<br /><br />VÄLJ * FRÅN avdelningar DÄR AVDELNING_ID = 300;<br />ROLLBACK;<br /> department_id | avdelningsnamn | manager_id | plats-id <br />---------------+------------------------+---------------- --+-------------<br /> 300 | DomareLTI | 103 | 2500<br />(1 rad)</code></pre></blockquote><p>Tänk på att dessa underfrågor kräver att unika värden returneras, eftersom vi bara kan tilldela ett värde till varje attribut i en rad .< /p><p>Till exempel, om vi istället för staden <code>'Oxford'</code> hade valt landet vars kod är <code>'UK'</code>, skulle uttalandet ha returnerats följande fel:</p><blockquote><pre><code>BEGIN;<br /><br />INSERT INTO departments<br />VALUES (<br /> 300, -- DEPARTMENT_ID<br /> ' JudgeLTI', -- DEPARTMENT_NAME<br /> (VÄLJ MANAGER_ID FRÅN avdelningar WHERE DEPARTMENT_NAME = 'IT'), -- MANAGER_ID<br /> <strong>(VÄLJ LOCATION_ID FRÅN platser WHERE COUNTRY_ID = 'UK')</strong> - - LOCATION_ID<br />);<br />-- FEL: mer än en rad returneras av en underfråga som används som uttryck<br /><br />ROLLBACK;</code></pre></blockquote > <h3>Övning</h3><p>Föreställ dig att du precis har blivit anställd av företaget. Förutom ditt namn, efternamn, e-post (utan telefon) är informationen om din anställning följande:</p><ul><li><code><strong>EMPLOYEE_ID</strong></code>: 220 < /li><li><code><strong>HIRE_DATE</strong></code>: CURRENT_DATE</li><li><code><strong>JOB_ID</strong></code>: IT_PROG</ li ><li><code><strong>LÖN</strong></code>: Du börjar med den minimilön som är tillåten för jobbet <code>'IT_PROG'</code></li><li> <code><strong>DEPARTMENT_ID</strong></code>: Identifieraren för avdelningen vars namn är <code>'IT'</code></li><li><code><strong>COMMISSION_PCT</ strong></code>: För att kompensera och uppmuntra tilldelas du den maximala provisionen bland dem som tilldelas någon anställd.</li><li><code><strong>MANAGER_ID</strong></code>: Chefen av den avdelning som tilldelats dig.</li></ul>