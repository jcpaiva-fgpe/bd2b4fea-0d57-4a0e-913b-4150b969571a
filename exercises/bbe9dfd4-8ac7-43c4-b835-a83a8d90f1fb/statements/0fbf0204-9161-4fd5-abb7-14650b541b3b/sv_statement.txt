<p>Som vi har påpekat tidigare, när du gör en <code>INSERT</code> där värdena för alla kolumner inte är specificerade, kommer värdet <code>NULL</code> att erhållas i dessa kolumner som inte är specificerade. Därför är det obligatoriskt att tilldela ett värde, åtminstone till de kolumner som inte kan vara <code>NULL</code>.</p><h3>Exempel:</h3><p>I följande sats, nej värdet för ett av attributen som inte kan vara <code><em>NULL</em></code> har specificerats:</p><blockquote><pre><code>INSERT INTO anställda(EMPLOYEE_ID, LAST_NAME , EMAIL, HIRE_DATE)<br />VÄRDEN (220, 'myLastName', 'email@juezlti.eu', CURRENT_DATE);</code><br /><strong><code>-- FEL: nullvärde i kolumn " job_id" av relationen "anställda" bryter mot noll-begränsning</code></strong></pre></blockquote><p>Vi bör ta reda på vilka attribut som inte kan vara <code>NULL</code> . För att göra detta kan vi använda <code>\d</code>-satsen.</p><blockquote><p><code>\d anställda</code></p></blockquote><p> Kommandot ovan <code>psql</code> visar oss attributen för tabellen, från vilken vi extraherar de för vilka värdet <code>NULL</code> inte är tillåtet.</p><blockquote><pre> Tabell "offentliga.anställda"<br /> Kolumn | Skriv | Samling | Nullbar | Standard<br />----------------+----------------------------- --+-----------+-----------+------------------------- -----------------------<br /> anställd_id | heltal | | inte null | nextval('anställda_anställd_id_seq'::regklass)<br /> förnamn | tecken varierande(20) | | | <br /> efternamn | tecken varierande(25) | | inte null | <br /> e-post | tecken varierande(25) | | inte null | <br /> telefonnummer | tecken varierande(20) | | | <br /> anställningsdatum | tidsstämpel utan tidszon | | inte null | <br /> jobb_id | teckenvarierande(10) | | inte null | <br /> löner | numerisk(8,2) | | | <br /> commission_pct | nummer(2,2) | | | <br /> manager_id | heltal | | | <br /> avdelnings-id | heltal | | | </pre></blockquote><p>Vi kan kontrollera att vi behöver lägga till värdet för attributet <code>JOB_ID</code>.</p><blockquote><pre><code>BEGIN;<br />< br /><strong>INSERT INTO anställda(EMPLOYEE_ID, LAST_NAME, EMAIL, HIRE_DATE, JOB_ID)<br />VÄRDEN (220, 'Efternamn', 'email@juezlti.eu', CURRENT_DATE, 'IT_PROG'); </strong ><br />-- INSERT 0 1<br /><br />VÄLJ * FRÅN anställda WHERE EMPLOYEE_ID = 220;<br />ROLLBACK;</code></pre></blockquote><h3 >Övning: </h3><p>Följande påstående saknar något obligatoriskt attribut</p><blockquote><pre><code>INSERT INTO job_history(EMPLOYEE_ID, START_DATE, END_DATE, DEPARTMENT_ID)<br />VALUES (120) , CURRENT_DATE - 730, CURRENT_DATE, 20);</code></pre></blockquote><p>Lägger till det saknade attributet så att satsen exekveras korrekt. Värdet på attributet kan vara vad som helst som uppfyller integritetsbegränsningen som ställts in på det attributet.</p><small><p><strong>Obs:</strong> Glöm inte att använda transaktioner med <code>BEGIN; <code > och <code>ROLLBACK;<code> i din <code>PostgreSQL</code></p></small> miljö