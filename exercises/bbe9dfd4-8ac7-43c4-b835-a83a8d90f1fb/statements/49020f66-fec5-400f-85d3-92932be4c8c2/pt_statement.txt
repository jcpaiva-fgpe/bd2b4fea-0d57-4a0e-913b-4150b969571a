<p>Como apontamos anteriormente, ao fazer um <code>INSERT</code> no qual os valores de todas as colunas não são especificados, o valor <code>NULL</code> será obtido nessas colunas que não são especificadas. indicaram. Portanto, é obrigatório atribuir um valor, pelo menos, às colunas que não podem ser <code>NULL</code>.</p><h3>Exemplo:</h3><p>Na declaração a seguir, não o valor de um dos atributos que não pode ser <code><em>NULL</em></code> foi especificado:</p><blockquote><pre><code>INSERT INTO employees(EMPLOYEE_ID, LAST_NAME , EMAIL, HIRE_DATE)<br />VALUES (220, 'myLastName', 'email@juezlti.eu', CURRENT_DATE);</code><br /><strong><code>-- ERRO: valor nulo na coluna " job_id" da relação "employees" viola a restrição não nula</code></strong></pre></blockquote><p>Devemos descobrir quais atributos não podem ser <code>NULL</code> . Para fazer isso, podemos usar a instrução <code>\d</code>.</p><blockquote><p><code>\d funcionários</code></p></blockquote><p> O comando acima <code>psql</code> nos mostra os atributos da tabela, da qual extraímos aqueles para os quais o valor <code>NULL</code> não é permitido.</p><blockquote><pre> Tabela "public.employees"<br /> Coluna | Tipo | Agrupamento | Anulável | Padrão<br />-----+--------------------------------------- -+------------+-----------+------------------------- -----------------------<br /> funcionário_id | inteiro | | não nulo | nextval('employees_employee_id_seq'::regclass)<br /> first_name | caractere variando(20) | | | <br /> sobrenome | caractere variando(25) | | não nulo | <br /> e-mail | caractere variando(25) | | não nulo | <br /> número_telefone | caractere variando(20) | | | <br /> data_contratação | timestamp sem fuso horário | | não nulo | <br /> job_id | caractere variando(10) | | não nulo | <br /> salários | numérico(8,2) | | | <br /> comissão_pct | número(2,2) | | | <br /> manager_id | inteiro | | | <br /> departamento_id | inteiro | | | </pre></blockquote><p>Podemos verificar se precisamos adicionar o valor do atributo <code>JOB_ID</code>.</p><blockquote><pre><code>BEGIN;<br />< br /><strong>INSERT INTO employees(EMPLOYEE_ID, LAST_NAME, EMAIL, HIRE_DATE, JOB_ID)<br />VALUES (220, 'Sobrenome', 'email@juezlti.eu', CURRENT_DATE, 'IT_PROG'); </strong ><br />-- INSERT 0 1<br /><br />SELECT * FROM employees WHERE EMPLOYEE_ID = 220;<br />ROLLBACK;</code></pre></blockquote><h3 >Exercício: </h3><p>A instrução a seguir está faltando algum atributo obrigatório</p><blockquote><pre><code>INSERT INTO job_history(EMPLOYEE_ID, START_DATE, END_DATE, DEPARTMENT_ID)<br />VALUES (120 , CURRENT_DATE - 730, CURRENT_DATE, 20);</code></pre></blockquote><p>Adiciona o atributo ausente para que a instrução seja executada corretamente. O valor do atributo pode ser qualquer coisa que atenda à restrição de integridade definida nesse atributo.</p><small><p><strong>Observação:</strong> Não se esqueça de usar transações com <code>BEGIN; <code > e <code>ROLLBACK;<code> em seu ambiente <code>PostgreSQL</code></p></small>